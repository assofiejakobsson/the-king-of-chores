{% extends 'base.html' %}

{% block content %}

<h2>Todo List</h2>
<script>
  function toggleCheckbox(checkboxId) {
      const checkbox = document.getElementById(checkboxId);
      checkbox.checked = !checkbox.checked;
  }
</script>

<h1>Todo List</h1>
    <form method="POST" action="/create_todo">
        {% csrf_token %}
        <label for="new_todo">New Todo:</label>
        <input type="text" id="new_todo" name="new_todo">
        <button type="submit">Add</button>
    </form>
    
    <ul>
        {% for todo in todos %}
            <li>
                <label for="todo_{{ todo.id }}">
                    <input type="checkbox" id="todo_{{ todo.id }}" onclick="toggleCheckbox('todo_{{ todo.id }}');" {% if todo.completed %}checked{% endif %}>
                    {{ todo.title }}
                </label>
            </li>
        {% endfor %}
    </ul>


{% endblock %}


<!-- 

  <h2>Todo List</h2>
  <ul>
    {% for todo in todos %}
      <li>
        <input type="checkbox" {% if todo.completed %}checked{% endif %} disabled>
        {{ todo.title }} ({{ todo.points }} points)
        <a href="{% url 'todo:todo_update' pk=todo.pk %}">Edit</a>
        <a href="{% url 'todo:todo_delete' pk=todo.pk %}">Delete</a>
      </li>
    {% empty %}
      <li>No todos found.</li>
    {% endfor %}
  </ul>
  <a href="{% url 'todo:todo_create' %}">Create New Todo</a>
  <a href="{% url 'game:game' %}">Play</a>

 -->